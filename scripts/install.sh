#!/bin/bash

# Install dependencies
echo "Installing dependencies..."

# Install necessary packages
sudo apt-get update
sudo apt-get install -y git python3 python3-pip sqlite3 php

# Sync exploits
echo "Syncing Exploit-DB..."
bash ./scripts/exploitdb_sync.sh

# Setup SQLite DB
DB_FILE="./exploitdb/exploitdb.db"
SCHEMA_FILE="./exploitdb-API/schema.sql"

if [ ! -f "$DB_FILE" ]; then
    echo "Setting up SQLite DB..."
    sqlite3 "$DB_FILE" < "$SCHEMA_FILE"
else
    echo "Database already exists."
fi

echo "Installation complete."